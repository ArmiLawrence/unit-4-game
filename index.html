<!DOCTYPE html>
<html lang="en-us">

<head>
  <meta charset="UTF-8">
  <title>CrystalsCollector Game</title>
  <!-- Added link to the jQuery Library -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <link rel="stylesheet" href="assets/css/reset.css">
  <!-- Bootstrap File -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="assets/css/style.css">
</head>

    <!-- Overall Bootstrap Grid -->
    <div class="container">

        <!-- Jumbotron with Title -->
        <div class="jumbotron">
          <h1 class="text-center">
            <strong>Defeat the Villain!</strong>
            <hr>
            <div id="instructions" class="text-center">
                    <p>The player will be shown a random number at the start of the game.</p>
                    <p>When the player clicks on a crystal, it will add a specific amount of points to the player's total score. </p>
                    <p>The player wins if their total score matches the random number from the beginning of the game.</p>
                    <p>The player loses if their score goes above the random number.</p>
                    <p>The game restarts whenever the player wins or loses.</p>
            </div>
          </h1>
        </div>
    </div>

    <!-- Controls (Superpower Visibility) -->
    <div class="container">
      <div class="row">
          <div class="col-sm-6">  
            <p>Villain's Choice to Beat: <span id="villainChoice-text"></span></p>
          </div>
          <div class="col-sm-6">  
              <p>Hero's Score: <span id="heroChoice-text"></span></p>
            </div>
          <div class="col-sm-6">              
            <p >Wins: <span id="win-text"></span></p>
          </div>
          <div class="col-sm-6">  
            <p >Loss: <span id="loss-text"></span></p>
          </div>
      </div>
    </div>


    <!-- Controls (Superpower Visibility) -->
    <div id="visibilityControls" class="card">
      <h4 class="card-header text-center">Pick your heroes!</h4>
      <div class="card-body">
        <div class="text-center">
            <img id = "BC" class="img-responsive" src="assets/images/Black_Canary_Enhanced.jpg" alt="Black Canary">
            <img id = "H"  class="img-responsive" src="assets/images/Huntress.jpg" alt="Huntress">
            <img id = "O"  class="img-responsive" src="assets/images/Oracle.jpg" alt="Oracle">
            <img id = "WG" class="img-responsive" src="assets/images/Wonder_Girl_(Cassandra_Sandsmark_Titan).jpg" alt="Wonder Girl">
        </div>
      </div>
    </div>


    <script type="text/javascript">

        var wins = 0;
        var losses = 0;
        var villainChoice = Math.floor((Math.random() * 100) + 19); 
        var heroChoice = 0;
        var numberOptions = [10, 5, 3, 7];

       $("#villainChoice-text").text(villainChoice);


        // Now for the hard part. Assign images each with their own unique number value.            
          // Each imageCrystal will be given a data attribute called heroValue.
          for (var i = 0; i < numberOptions.length; i++) {

          var image = $("<img>");

          
          // This data attribute will be set equal to the array value.
          image.attr("data-herovalue", numberOptions[i]);
      
          // Lastly, each image (with all it classes and attributes) will get added to the page.
          $("#BC").append(image);
          $("#H").append(image);
          $("#O").append(image);
          $("#WG").append(image);
            
          };
      
          // This time, our click event applies to every single crystal on the page. Not just one.
          $(".img-responsive").on("click", function() {
      
          // Determining the hero's value requires us to extract the value from the data attribute.
          // Using the $(this) keyword specifies that we should be extracting the crystal value of the clicked crystal.
          // Using the .attr("data-herovalue") allows us to grab the value out of the "data-herovalue" attribute.
          // Since attributes on HTML elements are strings, we must convert it to an integer before adding to the heroChoice
      
          var heroValue = ($(this).attr("data-herovalue"));
          heroValue = parseInt(heroValue);
          // We then add the crystalValue to the user's "heroChoice" which is a global variable.
          // Every click, from every crystal adds to the global heroChoice.
          heroChoice += heroValue;
      
          // All of the same game win-lose logic applies. So the rest remains unchanged.
          $("#heroChoice-text").text(heroChoice);
         
      
          if (heroChoice === villainChoice) {
            alert("You win!");
            wins++;
            $("#win-text").text(wins++)
          }
      
          else if (heroChoice >= villainChoice) {
            alert("You lose!!");
            losses++;
            $("#loss-text").text(loss++)
          }
      
        });

    </script>

</body>
</html>
